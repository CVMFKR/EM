{"ast":null,"code":"var _jsxFileName = \"/home/camilo/Documents/RaspberryPi/EstacionMeteorologica/frontend/iot-dashboard/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Historico from \"./Historico\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [sensorData, setSensorData] = useState({\n    temperature: null,\n    humidity: null\n  });\n  const [parametros, setParametros] = useState({\n    temperatura_min: 20,\n    temperatura_max: 25,\n    humedad_min: 40,\n    humedad_max: 60\n  });\n  const [loading, setLoading] = useState(true);\n  const [periodo, setPeriodo] = useState(30); // Período por defecto\n\n  const BACKEND_URL = \"http://192.168.1.10:5001\"; // Cambiar a la URL correcta\n\n  // Obtener datos del sensor\n  const fetchSensorData = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${BACKEND_URL}/sensor-data`);\n      setSensorData(response.data);\n    } catch (error) {\n      console.error(\"Error al obtener datos del sensor:\", error);\n    }\n    setLoading(false);\n  };\n\n  // Actualizar parámetros\n  const actualizarParametros = async () => {\n    try {\n      await axios.post(`${BACKEND_URL}/parametros_control`, parametros);\n    } catch (error) {\n      console.error(\"Error actualizando parámetros:\", error);\n    }\n  };\n\n  // Actualizar datos periódicamente\n  useEffect(() => {\n    fetchSensorData();\n    const interval = setInterval(fetchSensorData, 5000); // Cada 5 segundos\n    return () => clearInterval(interval);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-center mb-6\",\n      children: \"Estaci\\xF3n Meteorol\\xF3gica IoT\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-2\",\n        children: \"Datos en Tiempo Real\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"Cargando datos...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\uD83C\\uDF21\\uFE0F Temperatura: \", sensorData.temperature, \" \\xB0C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\uD83D\\uDCA7 Humedad: \", sensorData.humidity, \" %\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-2\",\n        children: \"Per\\xEDodo Hist\\xF3rico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: periodo,\n        onChange: e => setPeriodo(parseInt(e.target.value)),\n        className: \"border rounded-md px-2 py-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: 1,\n          children: \"\\xDAltimo d\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 7,\n          children: \"\\xDAltimos 7 d\\xEDas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 30,\n          children: \"\\xDAltimos 30 d\\xEDas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Historico, {\n      periodo: periodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-2\",\n        children: \"Actualizar Par\\xE1metros\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Temp. M\\xEDnima:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: parametros.temperatura_min,\n            onChange: e => setParametros({\n              ...parametros,\n              temperatura_min: e.target.value\n            }),\n            className: \"border px-2 py-1 rounded-md\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Temp. M\\xE1xima:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: parametros.temperatura_max,\n            onChange: e => setParametros({\n              ...parametros,\n              temperatura_max: e.target.value\n            }),\n            className: \"border px-2 py-1 rounded-md\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: actualizarParametros,\n        className: \"bg-blue-500 text-white px-4 py-2 mt-4 rounded-md hover:bg-blue-700\",\n        children: \"Guardar Par\\xE1metros\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"wNl7GldfLe2Y4RatCh+Lq4ISgVI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","Historico","jsxDEV","_jsxDEV","App","_s","sensorData","setSensorData","temperature","humidity","parametros","setParametros","temperatura_min","temperatura_max","humedad_min","humedad_max","loading","setLoading","periodo","setPeriodo","BACKEND_URL","fetchSensorData","response","get","data","error","console","actualizarParametros","post","interval","setInterval","clearInterval","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","parseInt","target","type","onClick","_c","$RefreshReg$"],"sources":["/home/camilo/Documents/RaspberryPi/EstacionMeteorologica/frontend/iot-dashboard/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Historico from \"./Historico\";\n\nfunction App() {\n  const [sensorData, setSensorData] = useState({ temperature: null, humidity: null });\n  const [parametros, setParametros] = useState({\n    temperatura_min: 20,\n    temperatura_max: 25,\n    humedad_min: 40,\n    humedad_max: 60,\n  });\n  const [loading, setLoading] = useState(true);\n  const [periodo, setPeriodo] = useState(30); // Período por defecto\n\n  const BACKEND_URL = \"http://192.168.1.10:5001\"; // Cambiar a la URL correcta\n\n  // Obtener datos del sensor\n  const fetchSensorData = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${BACKEND_URL}/sensor-data`);\n      setSensorData(response.data);\n    } catch (error) {\n      console.error(\"Error al obtener datos del sensor:\", error);\n    }\n    setLoading(false);\n  };\n\n  // Actualizar parámetros\n  const actualizarParametros = async () => {\n    try {\n      await axios.post(`${BACKEND_URL}/parametros_control`, parametros);\n    } catch (error) {\n      console.error(\"Error actualizando parámetros:\", error);\n    }\n  };\n\n  // Actualizar datos periódicamente\n  useEffect(() => {\n    fetchSensorData();\n    const interval = setInterval(fetchSensorData, 5000); // Cada 5 segundos\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-md\">\n      <h1 className=\"text-3xl font-bold text-center mb-6\">Estación Meteorológica IoT</h1>\n\n      {/* Datos del Sensor */}\n      <div className=\"mb-6\">\n        <h2 className=\"text-xl font-semibold mb-2\">Datos en Tiempo Real</h2>\n        {loading ? (\n          <p className=\"text-gray-500\">Cargando datos...</p>\n        ) : (\n          <div className=\"text-lg\">\n            <p>🌡️ Temperatura: {sensorData.temperature} °C</p>\n            <p>💧 Humedad: {sensorData.humidity} %</p>\n          </div>\n        )}\n      </div>\n\n      {/* Selección de Período */}\n      <div className=\"mb-6\">\n        <h2 className=\"text-xl font-semibold mb-2\">Período Histórico</h2>\n        <select\n          value={periodo}\n          onChange={(e) => setPeriodo(parseInt(e.target.value))}\n          className=\"border rounded-md px-2 py-1\"\n        >\n          <option value={1}>Último día</option>\n          <option value={7}>Últimos 7 días</option>\n          <option value={30}>Últimos 30 días</option>\n        </select>\n      </div>\n\n      {/* Gráfico Histórico */}\n      <Historico periodo={periodo} />\n\n      {/* Parámetros de Control */}\n      <div className=\"mt-6\">\n        <h2 className=\"text-xl font-semibold mb-2\">Actualizar Parámetros</h2>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <label>\n            Temp. Mínima:\n            <input\n              type=\"number\"\n              value={parametros.temperatura_min}\n              onChange={(e) => setParametros({ ...parametros, temperatura_min: e.target.value })}\n              className=\"border px-2 py-1 rounded-md\"\n            />\n          </label>\n          <label>\n            Temp. Máxima:\n            <input\n              type=\"number\"\n              value={parametros.temperatura_max}\n              onChange={(e) => setParametros({ ...parametros, temperatura_max: e.target.value })}\n              className=\"border px-2 py-1 rounded-md\"\n            />\n          </label>\n        </div>\n        <button\n          onClick={actualizarParametros}\n          className=\"bg-blue-500 text-white px-4 py-2 mt-4 rounded-md hover:bg-blue-700\"\n        >\n          Guardar Parámetros\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}